{"id":"j0nt","dependencies":[{"name":"C:\\GitHub\\decor\\decor\\node_modules\\@chakra-ui\\image\\dist\\chunk-SPIKMR6I.mjs.map","includedInParent":true,"mtime":1707852893488},{"name":"C:\\GitHub\\decor\\decor\\package.json","includedInParent":true,"mtime":1709068720113},{"name":"C:\\GitHub\\decor\\decor\\node_modules\\@chakra-ui\\image\\package.json","includedInParent":true,"mtime":1707852898562},{"name":"@chakra-ui/react-use-safe-layout-effect","loc":{"line":4,"column":36,"index":70},"parent":"C:\\GitHub\\decor\\decor\\node_modules\\@chakra-ui\\image\\dist\\chunk-SPIKMR6I.mjs","resolved":"C:\\GitHub\\decor\\decor\\node_modules\\@chakra-ui\\react-use-safe-layout-effect\\dist\\index.mjs"},{"name":"react","loc":{"line":5,"column":57,"index":170},"parent":"C:\\GitHub\\decor\\decor\\node_modules\\@chakra-ui\\image\\dist\\chunk-SPIKMR6I.mjs","resolved":"C:\\GitHub\\decor\\decor\\node_modules\\react\\index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.shouldShowFallbackImage=void 0,exports.useImage=o;var e=require(\"@chakra-ui/react-use-safe-layout-effect\"),r=require(\"react\");function o(o){const{loading:n,src:a,srcSet:l,onLoad:s,onError:t,crossOrigin:u,sizes:c,ignoreFallback:i}=o,[d,f]=(0,r.useState)(\"pending\");(0,r.useEffect)(()=>{f(a?\"loading\":\"pending\")},[a]);const g=(0,r.useRef)(),p=(0,r.useCallback)(()=>{if(!a)return;b();const e=new Image;e.src=a,u&&(e.crossOrigin=u),l&&(e.srcset=l),c&&(e.sizes=c),n&&(e.loading=n),e.onload=(e=>{b(),f(\"loaded\"),null==s||s(e)}),e.onerror=(e=>{b(),f(\"failed\"),null==t||t(e)}),g.current=e},[a,u,l,c,s,t,n]),b=()=>{g.current&&(g.current.onload=null,g.current.onerror=null,g.current=null)};return(0,e.useSafeLayoutEffect)(()=>{if(!i)return\"loading\"===d&&p(),()=>{b()}},[d,p,i]),i?\"loaded\":d}var n=(e,r)=>\"loaded\"!==e&&\"beforeLoadOrError\"===r||\"failed\"===e&&\"onError\"===r;exports.shouldShowFallbackImage=n;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":47},"generated":{"line":1,"column":0}},{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":47},"generated":{"line":1,"column":13}},{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":47},"generated":{"line":1,"column":20}},{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":47},"generated":{"line":1,"column":35}},{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":47},"generated":{"line":1,"column":43}},{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":47},"generated":{"line":1,"column":56}},{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":47},"generated":{"line":1,"column":57}},{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":47},"generated":{"line":1,"column":64}},{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":47},"generated":{"line":1,"column":68}},{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":47},"generated":{"line":1,"column":76}},{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":47},"generated":{"line":1,"column":105}},{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":47},"generated":{"line":1,"column":107}},{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":47},"generated":{"line":1,"column":115}},{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":47},"generated":{"line":1,"column":124}},{"source":"../src/use-image.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":126}},{"source":"../src/use-image.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":130}},{"source":"../src/use-image.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":132}},{"source":"../src/use-image.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":140}},{"source":"../src/use-image.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":183}},{"source":"../src/use-image.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":185}},{"source":"../src/use-image.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":193}},{"source":"../src/use-image.ts","name":null,"original":{"line":63,"column":7},"generated":{"line":1,"column":202}},{"source":"../src/use-image.ts","name":null,"original":{"line":63,"column":16},"generated":{"line":1,"column":211}},{"source":"../src/use-image.ts","name":null,"original":{"line":63,"column":25},"generated":{"line":1,"column":213}},{"source":"../src/use-image.ts","name":null,"original":{"line":64,"column":2},"generated":{"line":1,"column":216}},{"source":"../src/use-image.ts","name":null,"original":{"line":64,"column":8},"generated":{"line":1,"column":222}},{"source":"../src/use-image.ts","name":null,"original":{"line":65,"column":4},"generated":{"line":1,"column":230}},{"source":"../src/use-image.ts","name":null,"original":{"line":65,"column":4},"generated":{"line":1,"column":232}},{"source":"../src/use-image.ts","name":null,"original":{"line":66,"column":4},"generated":{"line":1,"column":236}},{"source":"../src/use-image.ts","name":null,"original":{"line":66,"column":4},"generated":{"line":1,"column":238}},{"source":"../src/use-image.ts","name":null,"original":{"line":67,"column":4},"generated":{"line":1,"column":245}},{"source":"../src/use-image.ts","name":null,"original":{"line":67,"column":4},"generated":{"line":1,"column":247}},{"source":"../src/use-image.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":1,"column":254}},{"source":"../src/use-image.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":1,"column":256}},{"source":"../src/use-image.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":1,"column":264}},{"source":"../src/use-image.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":1,"column":266}},{"source":"../src/use-image.ts","name":null,"original":{"line":70,"column":4},"generated":{"line":1,"column":278}},{"source":"../src/use-image.ts","name":null,"original":{"line":70,"column":4},"generated":{"line":1,"column":280}},{"source":"../src/use-image.ts","name":null,"original":{"line":71,"column":4},"generated":{"line":1,"column":286}},{"source":"../src/use-image.ts","name":null,"original":{"line":71,"column":4},"generated":{"line":1,"column":288}},{"source":"../src/use-image.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":1,"column":303}},{"source":"../src/use-image.ts","name":null,"original":{"line":73,"column":6},"generated":{"line":1,"column":306}},{"source":"../src/use-image.ts","name":null,"original":{"line":75,"column":9},"generated":{"line":1,"column":309}},{"source":"../src/use-image.ts","name":null,"original":{"line":75,"column":17},"generated":{"line":1,"column":311}},{"source":"../src/use-image.ts","name":null,"original":{"line":75,"column":30},"generated":{"line":1,"column":315}},{"source":"../src/use-image.ts","name":null,"original":{"line":75,"column":30},"generated":{"line":1,"column":317}},{"source":"../src/use-image.ts","name":null,"original":{"line":75,"column":30},"generated":{"line":1,"column":319}},{"source":"../src/use-image.ts","name":null,"original":{"line":75,"column":47},"generated":{"line":1,"column":329}},{"source":"../src/use-image.ts","name":null,"original":{"line":77,"column":2},"generated":{"line":1,"column":341}},{"source":"../src/use-image.ts","name":null,"original":{"line":77,"column":2},"generated":{"line":1,"column":343}},{"source":"../src/use-image.ts","name":null,"original":{"line":77,"column":2},"generated":{"line":1,"column":345}},{"source":"../src/use-image.ts","name":null,"original":{"line":77,"column":12},"generated":{"line":1,"column":356}},{"source":"../src/use-image.ts","name":null,"original":{"line":78,"column":4},"generated":{"line":1,"column":361}},{"source":"../src/use-image.ts","name":null,"original":{"line":78,"column":14},"generated":{"line":1,"column":363}},{"source":"../src/use-image.ts","name":null,"original":{"line":78,"column":20},"generated":{"line":1,"column":365}},{"source":"../src/use-image.ts","name":null,"original":{"line":78,"column":32},"generated":{"line":1,"column":375}},{"source":"../src/use-image.ts","name":null,"original":{"line":79,"column":5},"generated":{"line":1,"column":387}},{"source":"../src/use-image.ts","name":null,"original":{"line":79,"column":6},"generated":{"line":1,"column":388}},{"source":"../src/use-image.ts","name":null,"original":{"line":81,"column":2},"generated":{"line":1,"column":392}},{"source":"../src/use-image.ts","name":null,"original":{"line":81,"column":8},"generated":{"line":1,"column":398}},{"source":"../src/use-image.ts","name":null,"original":{"line":81,"column":19},"generated":{"line":1,"column":401}},{"source":"../src/use-image.ts","name":null,"original":{"line":81,"column":19},"generated":{"line":1,"column":403}},{"source":"../src/use-image.ts","name":null,"original":{"line":81,"column":19},"generated":{"line":1,"column":405}},{"source":"../src/use-image.ts","name":null,"original":{"line":83,"column":8},"generated":{"line":1,"column":415}},{"source":"../src/use-image.ts","name":null,"original":{"line":83,"column":15},"generated":{"line":1,"column":418}},{"source":"../src/use-image.ts","name":null,"original":{"line":83,"column":15},"generated":{"line":1,"column":420}},{"source":"../src/use-image.ts","name":null,"original":{"line":83,"column":15},"generated":{"line":1,"column":422}},{"source":"../src/use-image.ts","name":null,"original":{"line":83,"column":27},"generated":{"line":1,"column":435}},{"source":"../src/use-image.ts","name":null,"original":{"line":84,"column":4},"generated":{"line":1,"column":440}},{"source":"../src/use-image.ts","name":null,"original":{"line":84,"column":9},"generated":{"line":1,"column":444}},{"source":"../src/use-image.ts","name":null,"original":{"line":84,"column":14},"generated":{"line":1,"column":446}},{"source":"../src/use-image.ts","name":null,"original":{"line":86,"column":4},"generated":{"line":1,"column":453}},{"source":"../src/use-image.ts","name":null,"original":{"line":88,"column":4},"generated":{"line":1,"column":457}},{"source":"../src/use-image.ts","name":null,"original":{"line":88,"column":10},"generated":{"line":1,"column":463}},{"source":"../src/use-image.ts","name":null,"original":{"line":88,"column":16},"generated":{"line":1,"column":465}},{"source":"../src/use-image.ts","name":null,"original":{"line":88,"column":20},"generated":{"line":1,"column":469}},{"source":"../src/use-image.ts","name":null,"original":{"line":89,"column":4},"generated":{"line":1,"column":475}},{"source":"../src/use-image.ts","name":null,"original":{"line":89,"column":8},"generated":{"line":1,"column":477}},{"source":"../src/use-image.ts","name":null,"original":{"line":89,"column":14},"generated":{"line":1,"column":481}},{"source":"../src/use-image.ts","name":null,"original":{"line":90,"column":8},"generated":{"line":1,"column":483}},{"source":"../src/use-image.ts","name":null,"original":{"line":90,"column":21},"generated":{"line":1,"column":487}},{"source":"../src/use-image.ts","name":null,"original":{"line":90,"column":25},"generated":{"line":1,"column":489}},{"source":"../src/use-image.ts","name":null,"original":{"line":90,"column":39},"generated":{"line":1,"column":501}},{"source":"../src/use-image.ts","name":null,"original":{"line":91,"column":8},"generated":{"line":1,"column":504}},{"source":"../src/use-image.ts","name":null,"original":{"line":91,"column":16},"generated":{"line":1,"column":508}},{"source":"../src/use-image.ts","name":null,"original":{"line":91,"column":20},"generated":{"line":1,"column":510}},{"source":"../src/use-image.ts","name":null,"original":{"line":91,"column":29},"generated":{"line":1,"column":517}},{"source":"../src/use-image.ts","name":null,"original":{"line":92,"column":8},"generated":{"line":1,"column":520}},{"source":"../src/use-image.ts","name":null,"original":{"line":92,"column":15},"generated":{"line":1,"column":524}},{"source":"../src/use-image.ts","name":null,"original":{"line":92,"column":19},"generated":{"line":1,"column":526}},{"source":"../src/use-image.ts","name":null,"original":{"line":92,"column":27},"generated":{"line":1,"column":532}},{"source":"../src/use-image.ts","name":null,"original":{"line":93,"column":8},"generated":{"line":1,"column":535}},{"source":"../src/use-image.ts","name":null,"original":{"line":93,"column":17},"generated":{"line":1,"column":539}},{"source":"../src/use-image.ts","name":null,"original":{"line":93,"column":21},"generated":{"line":1,"column":541}},{"source":"../src/use-image.ts","name":null,"original":{"line":93,"column":31},"generated":{"line":1,"column":549}},{"source":"../src/use-image.ts","name":null,"original":{"line":95,"column":4},"generated":{"line":1,"column":552}},{"source":"../src/use-image.ts","name":null,"original":{"line":95,"column":8},"generated":{"line":1,"column":554}},{"source":"../src/use-image.ts","name":null,"original":{"line":95,"column":18},"generated":{"line":1,"column":561}},{"source":"../src/use-image.ts","name":null,"original":{"line":95,"column":18},"generated":{"line":1,"column":562}},{"source":"../src/use-image.ts","name":null,"original":{"line":96,"column":6},"generated":{"line":1,"column":566}},{"source":"../src/use-image.ts","name":null,"original":{"line":97,"column":6},"generated":{"line":1,"column":570}},{"source":"../src/use-image.ts","name":null,"original":{"line":97,"column":16},"generated":{"line":1,"column":572}},{"source":"../src/use-image.ts","name":null,"original":{"line":98,"column":6},"generated":{"line":1,"column":582}},{"source":"../src/use-image.ts","name":null,"original":{"line":98,"column":6},"generated":{"line":1,"column":588}},{"source":"../src/use-image.ts","name":null,"original":{"line":98,"column":6},"generated":{"line":1,"column":591}},{"source":"../src/use-image.ts","name":null,"original":{"line":98,"column":15},"generated":{"line":1,"column":593}},{"source":"../src/use-image.ts","name":null,"original":{"line":100,"column":4},"generated":{"line":1,"column":598}},{"source":"../src/use-image.ts","name":null,"original":{"line":100,"column":8},"generated":{"line":1,"column":600}},{"source":"../src/use-image.ts","name":null,"original":{"line":100,"column":19},"generated":{"line":1,"column":608}},{"source":"../src/use-image.ts","name":null,"original":{"line":100,"column":19},"generated":{"line":1,"column":609}},{"source":"../src/use-image.ts","name":null,"original":{"line":101,"column":6},"generated":{"line":1,"column":613}},{"source":"../src/use-image.ts","name":null,"original":{"line":102,"column":6},"generated":{"line":1,"column":617}},{"source":"../src/use-image.ts","name":null,"original":{"line":102,"column":16},"generated":{"line":1,"column":619}},{"source":"../src/use-image.ts","name":null,"original":{"line":103,"column":6},"generated":{"line":1,"column":629}},{"source":"../src/use-image.ts","name":null,"original":{"line":103,"column":6},"generated":{"line":1,"column":635}},{"source":"../src/use-image.ts","name":null,"original":{"line":103,"column":6},"generated":{"line":1,"column":638}},{"source":"../src/use-image.ts","name":null,"original":{"line":103,"column":16},"generated":{"line":1,"column":640}},{"source":"../src/use-image.ts","name":null,"original":{"line":106,"column":4},"generated":{"line":1,"column":645}},{"source":"../src/use-image.ts","name":null,"original":{"line":106,"column":13},"generated":{"line":1,"column":647}},{"source":"../src/use-image.ts","name":null,"original":{"line":106,"column":23},"generated":{"line":1,"column":655}},{"source":"../src/use-image.ts","name":null,"original":{"line":107,"column":5},"generated":{"line":1,"column":658}},{"source":"../src/use-image.ts","name":null,"original":{"line":107,"column":6},"generated":{"line":1,"column":659}},{"source":"../src/use-image.ts","name":null,"original":{"line":107,"column":11},"generated":{"line":1,"column":661}},{"source":"../src/use-image.ts","name":null,"original":{"line":107,"column":24},"generated":{"line":1,"column":663}},{"source":"../src/use-image.ts","name":null,"original":{"line":107,"column":32},"generated":{"line":1,"column":665}},{"source":"../src/use-image.ts","name":null,"original":{"line":107,"column":39},"generated":{"line":1,"column":667}},{"source":"../src/use-image.ts","name":null,"original":{"line":107,"column":47},"generated":{"line":1,"column":669}},{"source":"../src/use-image.ts","name":null,"original":{"line":107,"column":56},"generated":{"line":1,"column":671}},{"source":"../src/use-image.ts","name":null,"original":{"line":109,"column":8},"generated":{"line":1,"column":675}},{"source":"../src/use-image.ts","name":null,"original":{"line":109,"column":16},"generated":{"line":1,"column":677}},{"source":"../src/use-image.ts","name":null,"original":{"line":110,"column":8},"generated":{"line":1,"column":682}},{"source":"../src/use-image.ts","name":null,"original":{"line":110,"column":17},"generated":{"line":1,"column":684}},{"source":"../src/use-image.ts","name":null,"original":{"line":111,"column":6},"generated":{"line":1,"column":694}},{"source":"../src/use-image.ts","name":null,"original":{"line":111,"column":15},"generated":{"line":1,"column":696}},{"source":"../src/use-image.ts","name":null,"original":{"line":111,"column":23},"generated":{"line":1,"column":704}},{"source":"../src/use-image.ts","name":null,"original":{"line":111,"column":32},"generated":{"line":1,"column":711}},{"source":"../src/use-image.ts","name":null,"original":{"line":112,"column":6},"generated":{"line":1,"column":716}},{"source":"../src/use-image.ts","name":null,"original":{"line":112,"column":15},"generated":{"line":1,"column":718}},{"source":"../src/use-image.ts","name":null,"original":{"line":112,"column":23},"generated":{"line":1,"column":726}},{"source":"../src/use-image.ts","name":null,"original":{"line":112,"column":33},"generated":{"line":1,"column":734}},{"source":"../src/use-image.ts","name":null,"original":{"line":113,"column":6},"generated":{"line":1,"column":739}},{"source":"../src/use-image.ts","name":null,"original":{"line":113,"column":15},"generated":{"line":1,"column":741}},{"source":"../src/use-image.ts","name":null,"original":{"line":113,"column":25},"generated":{"line":1,"column":749}},{"source":"../src/use-image.ts","name":null,"original":{"line":136,"column":2},"generated":{"line":1,"column":756}},{"source":"../src/use-image.ts","name":null,"original":{"line":117,"column":2},"generated":{"line":1,"column":763}},{"source":"../src/use-image.ts","name":null,"original":{"line":117,"column":2},"generated":{"line":1,"column":765}},{"source":"../src/use-image.ts","name":null,"original":{"line":117,"column":2},"generated":{"line":1,"column":767}},{"source":"../src/use-image.ts","name":null,"original":{"line":117,"column":22},"generated":{"line":1,"column":788}},{"source":"../src/use-image.ts","name":null,"original":{"line":122,"column":4},"generated":{"line":1,"column":793}},{"source":"../src/use-image.ts","name":null,"original":{"line":122,"column":8},"generated":{"line":1,"column":797}},{"source":"../src/use-image.ts","name":null,"original":{"line":127,"column":4},"generated":{"line":1,"column":799}},{"source":"../src/use-image.ts","name":null,"original":{"line":124,"column":19},"generated":{"line":1,"column":805}},{"source":"../src/use-image.ts","name":null,"original":{"line":124,"column":8},"generated":{"line":1,"column":817}},{"source":"../src/use-image.ts","name":null,"original":{"line":125,"column":6},"generated":{"line":1,"column":820}},{"source":"../src/use-image.ts","name":null,"original":{"line":127,"column":11},"generated":{"line":1,"column":824}},{"source":"../src/use-image.ts","name":null,"original":{"line":128,"column":6},"generated":{"line":1,"column":829}},{"source":"../src/use-image.ts","name":null,"original":{"line":130,"column":5},"generated":{"line":1,"column":835}},{"source":"../src/use-image.ts","name":null,"original":{"line":130,"column":6},"generated":{"line":1,"column":836}},{"source":"../src/use-image.ts","name":null,"original":{"line":130,"column":14},"generated":{"line":1,"column":838}},{"source":"../src/use-image.ts","name":null,"original":{"line":130,"column":20},"generated":{"line":1,"column":840}},{"source":"../src/use-image.ts","name":null,"original":{"line":136,"column":9},"generated":{"line":1,"column":844}},{"source":"../src/use-image.ts","name":null,"original":{"line":136,"column":26},"generated":{"line":1,"column":846}},{"source":"../src/use-image.ts","name":null,"original":{"line":136,"column":37},"generated":{"line":1,"column":855}},{"source":"../src/use-image.ts","name":null,"original":{"line":139,"column":7},"generated":{"line":1,"column":857}},{"source":"../src/use-image.ts","name":null,"original":{"line":139,"column":13},"generated":{"line":1,"column":861}},{"source":"../src/use-image.ts","name":null,"original":{"line":139,"column":39},"generated":{"line":1,"column":863}},{"source":"../src/use-image.ts","name":null,"original":{"line":140,"column":2},"generated":{"line":1,"column":864}},{"source":"../src/use-image.ts","name":null,"original":{"line":141,"column":2},"generated":{"line":1,"column":866}},{"source":"../src/use-image.ts","name":null,"original":{"line":143,"column":14},"generated":{"line":1,"column":870}},{"source":"../src/use-image.ts","name":null,"original":{"line":143,"column":3},"generated":{"line":1,"column":881}},{"source":"../src/use-image.ts","name":null,"original":{"line":143,"column":47},"generated":{"line":1,"column":884}},{"source":"../src/use-image.ts","name":null,"original":{"line":143,"column":26},"generated":{"line":1,"column":906}},{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":14},"generated":{"line":1,"column":909}},{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":3},"generated":{"line":1,"column":920}},{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":47},"generated":{"line":1,"column":923}},{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":26},"generated":{"line":1,"column":935}},{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":47},"generated":{"line":1,"column":937}},{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":47},"generated":{"line":1,"column":945}},{"source":"../src/use-image.ts","name":null,"original":{"line":144,"column":47},"generated":{"line":1,"column":969}}],"sources":{"../src/use-image.ts":"import { useSafeLayoutEffect } from \"@chakra-ui/react-use-safe-layout-effect\"\nimport { useCallback, useEffect, useRef, useState } from \"react\"\n\ntype NativeImageProps = React.ImgHTMLAttributes<HTMLImageElement>\n\nexport interface UseImageProps {\n  /**\n   * The image `src` attribute\n   */\n  src?: string\n  /**\n   * The image `srcset` attribute\n   */\n  srcSet?: string\n  /**\n   * The image `sizes` attribute\n   */\n  sizes?: string\n  /**\n   * A callback for when the image `src` has been loaded\n   */\n  onLoad?: NativeImageProps[\"onLoad\"]\n  /**\n   * A callback for when there was an error loading the image `src`\n   */\n  onError?: NativeImageProps[\"onError\"]\n  /**\n   * If `true`, opt out of the `fallbackSrc` logic and use as `img`\n   *\n   * @default false\n   */\n  ignoreFallback?: boolean\n  /**\n   * The key used to set the crossOrigin on the HTMLImageElement into which the image will be loaded.\n   * This tells the browser to request cross-origin access when trying to download the image data.\n   */\n  crossOrigin?: NativeImageProps[\"crossOrigin\"]\n  loading?: NativeImageProps[\"loading\"]\n}\n\ntype Status = \"loading\" | \"failed\" | \"pending\" | \"loaded\"\n\nexport type FallbackStrategy = \"onError\" | \"beforeLoadOrError\"\n\ntype ImageEvent = React.SyntheticEvent<HTMLImageElement, Event>\n\n/**\n * React hook that loads an image in the browser,\n * and lets us know the `status` so we can show image\n * fallback if it is still `pending`\n *\n * @returns the status of the image loading progress\n *\n * @example\n *\n * ```jsx\n * function App(){\n *   const status = useImage({ src: \"image.png\" })\n *   return status === \"loaded\" ? <img src=\"image.png\" /> : <Placeholder />\n * }\n * ```\n */\nexport function useImage(props: UseImageProps) {\n  const {\n    loading,\n    src,\n    srcSet,\n    onLoad,\n    onError,\n    crossOrigin,\n    sizes,\n    ignoreFallback,\n  } = props\n\n  const [status, setStatus] = useState<Status>(\"pending\")\n\n  useEffect(() => {\n    setStatus(src ? \"loading\" : \"pending\")\n  }, [src])\n\n  const imageRef = useRef<HTMLImageElement | null>()\n\n  const load = useCallback(() => {\n    if (!src) return\n\n    flush()\n\n    const img = new Image()\n    img.src = src\n    if (crossOrigin) img.crossOrigin = crossOrigin\n    if (srcSet) img.srcset = srcSet\n    if (sizes) img.sizes = sizes\n    if (loading) img.loading = loading\n\n    img.onload = (event) => {\n      flush()\n      setStatus(\"loaded\")\n      onLoad?.(event as unknown as ImageEvent)\n    }\n    img.onerror = (error) => {\n      flush()\n      setStatus(\"failed\")\n      onError?.(error as any)\n    }\n\n    imageRef.current = img\n  }, [src, crossOrigin, srcSet, sizes, onLoad, onError, loading])\n\n  const flush = () => {\n    if (imageRef.current) {\n      imageRef.current.onload = null\n      imageRef.current.onerror = null\n      imageRef.current = null\n    }\n  }\n\n  useSafeLayoutEffect(() => {\n    /**\n     * If user opts out of the fallback/placeholder\n     * logic, let's bail out.\n     */\n    if (ignoreFallback) return undefined\n\n    if (status === \"loading\") {\n      load()\n    }\n    return () => {\n      flush()\n    }\n  }, [status, load, ignoreFallback])\n\n  /**\n   * If user opts out of the fallback/placeholder\n   * logic, let's just return 'loaded'\n   */\n  return ignoreFallback ? \"loaded\" : status\n}\n\nexport const shouldShowFallbackImage = (\n  status: Status,\n  fallbackStrategy: FallbackStrategy,\n) =>\n  (status !== \"loaded\" && fallbackStrategy === \"beforeLoadOrError\") ||\n  (status === \"failed\" && fallbackStrategy === \"onError\")\n\nexport type UseImageReturn = ReturnType<typeof useImage>\n"},"lineCount":null}},"error":null,"hash":"a87b8f57722484b1a6982be91f823ff6","cacheData":{"env":{}}}